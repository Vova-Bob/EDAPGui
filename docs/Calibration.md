# Калібрування EDAPGui
Цей документ пояснює, як виконати калібрування версії Elite Dangerous Autopilot (GUI). Вам потрібно виконати цей етап калібрування, якщо поведінка EDAPGui на вашій системі під час запуску FSD Assist полягає у нескінченному Pitching up. Для деяких систем користувачів це калібрування потрібне, щоб визначити правильне значення масштабування для зображень у каталозі template. Вони залежать від роздільної здатності екрана/гри. Шаблони були створені на моніторі з роздільною здатністю 3440x1440 і потребують масштабування для інших цільових комп'ютерів.

## Калібрування Target
Конфігураційний файл _config-resolution.json_ містить стандартну роздільну здатність екрана та значення масштабування. Наведена нижче послідовність калібрування збереже параметри масштабування у файлі налаштувань AP.json. Інакше буде шукати інший запис, який відповідає роздільній здатності екрана користувача. Це калібрування має бути потрібне лише один раз на вашій системі.

## Калібрування Compass
Не всі кораблі мають Compass однакового розміру, тому потрібно відкалібрувати Compass кожного корабля, щоб врахувати роздільну здатність екрана та FOV. Після збереження правильне масштабування буде автоматично завантажуватися під час зміни кораблів.

# Процес
Алгоритм калібрування намагатиметься співставити шаблонні зображення з вашим екраном ED, перебираючи коефіцієнти масштабування та
вибираючи оптимальний масштаб на основі відсотка збігу.<br>
``` Примітка: під час цього калібрування до ED не буде надіслано жодних команд, виконуватимуться лише знімки екрана. ```

Також дивіться HOWTO-RollPitchYaw.md щодо налаштування роботи автопілота під час маневрування до цілі.

# Підготовка
* Запустити Elite Dangerous (ED)
* Налаштувати конфігурацію ED на
    * У Supercruise (%0 thrust підходить)
    * Вибрано цільову систему
    * Вирівняно на ціль, як показано на цьому знімку екрана:<br>
![Alt text](../screen/screen-cap-calibrate.png?raw=true "Calibrate ED Config")

# Як запустити калібрування (Target або Compass)
* Запустити EDAPGui
* У меню File натиснути 'Calibrate Target' або 'Calibrate Compass'
* Вибрати OK у спливаючому вікні
  * З’явиться синє поле, або навколо Compass, або в центрі екрана
  * Переконатися, що Compass/target видно в цих областях
  * Калібрування зазвичай триває менше 1 хвилини
  * У синьому полі з’явиться червоне поле, яке намагатиметься знайти відповідні зображення. Коли збіг знайдено, над відповідністю з’явиться зелене поле. Це найкращий збіг, знайдений на даний момент
  * Процес повторюється кілька разів із різними порогами збігів. Зелене поле завжди показуватиме найкращий збіг і має бути розташоване навколо Compass і target
  * Відсоток збігу (0.0 – 1.0) показано над зеленим полем. Для успіху потрібен збіг > 0.5 як для Compass, так і для target
  * Вікно GUI покаже результати
    * Також можна відкрити config-resolution.json, щоб побачити вибрані значення масштабування для ключа 'Calibrated'
* Перезапустити EDAPGui після завершення, щоб переконатися, що використовуються правильні значення масштабування
